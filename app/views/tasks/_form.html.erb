<% parent = parent || task.taskable %>
<% parent_id = parent.id %>
<% parent_type = parent.class.to_s %>

<%= simple_form_for(task) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

  <div class="form-inputs">
    <%= f.input :description %>
    <%= f.input :deadline %>
    <%= f.input :priority %>
    <%= f.input :assigned_to_user_id %>
    <%= f.input :status %>
    <%= f.hidden_field :taskable_id, value: parent_id %>
    <%= f.hidden_field :taskable_type, value: parent_type %>
  </div>

  <div class="form-actions">
    <%= f.button :submit %>
  </div>
<% end %>
