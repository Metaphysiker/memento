<div class="people">

    <% people_ids = @people_ids || people.pluck(:id) %>
    <% limit = @limit || 25 %>
    <% offset = @offset || 0 %>
    <% people_ids = @people_ids unless @people_ids.blank? %>
    <% unless people.blank? %>
      <% query = people.offset(offset).limit(limit) %>
    <% else %>
      <% query = Person.where(id: people_ids).offset(offset).limit(limit) %>
    <% end %>

    <%= render partial: "people/show", collection: query, as: :person %>

    <% if offset > 0 %>
      <%= form_tag(people_navigation_path, method: "post", remote: true, class: "form-group") do %>
          <%= hidden_field_tag "people_ids", people_ids, :multiple => true %>
          <%= hidden_field_tag "limit", limit %>
          <%= hidden_field_tag "offset", offset - 25 %>
          <%= submit_tag("ZurÃ¼ck") %>
      <% end %>
    <% end %>

    <% if query.count == limit %>
      <%= form_tag(people_navigation_path, method: "post", remote: true, class: "form-group") do %>
          <%= hidden_field_tag "people_ids", people_ids, :multiple => true %>
          <%= hidden_field_tag "limit", limit %>
          <%= hidden_field_tag "offset", offset + 25 %>
          <%= submit_tag("Weiter") %>
      <% end %>
    <% end %>


</div>
